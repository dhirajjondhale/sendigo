<!DOCTYPE html>
<html>
<head>
    <title>Send Emails</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 1s ease-in-out',
                        'slide-in': 'slideIn 0.5s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">
    <!-- Sticky Header -->
    <div class="w-full top-0 z-40 py-4 mb-6">
        <div class="max-w-5xl mx-auto flex justify-end px-4">
            <a href="{% url 'audience_dashboard' %}" id="dashboardBtn" class="block mt-10 text-white px-6 py-4 rounded-xl bg-gradient-to-br from-[#667eea] to-[#764ba2] hover:from-[#5a6ed3] hover:to-[#6b4294] hover-scale hover-pulse animate-slideIn text-lg font-semibold text-center max-w-xs shadow-lg">Go to Dashboard</a>
        </div>
    </div>

    <div class="container max-w-5xl mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-6 animate-fade-in">Send Emails</h1>
        <form method="post" class="space-y-6 mb-6 animate-fade-in">
            {% csrf_token %}
            <div>
                <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Subject</label>
                <input type="text" name="subject" id="subject" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200" value="Test Email">
            </div>
            <div>
                <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message (use {name} for personalization)</label>
                <textarea name="message" id="message" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200" rows="5">Hello {name},\n\nThis is a test email.</textarea>
            </div>
            <button type="submit" class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-3 rounded-lg font-semibold hover:bg-gradient-to-r hover:from-indigo-600 hover:to-purple-700 hover:shadow-lg transition-all duration-300">Send Emails</button>
        </form>
        <div class="space-y-3">
            <a href="{% url 'add_recipients' %}" class="inline-block bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 hover:shadow-lg transition-all duration-300">Back to Add Recipients</a>
            <button id="templatesBtn" class="inline-block bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 hover:shadow-lg transition-all duration-300">Templates</button>
        </div>
    </div>

    <div id="templateContainer" class="flex flex-wrap justify-center gap-6 max-w-5xl mx-auto px-4">
        <!-- Template 1 Card -->
        <div class="bg-white bg-opacity-30 backdrop-blur-lg border border-white border-opacity-50 p-6 rounded-lg shadow-lg w-full md:w-[30%] h-[41vh] flex flex-col animate-fade-in hover:scale-105 hover:shadow-xl transition-all duration-300">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex-1 flex items-center justify-center">Template #1: Quick Check In</h2>
            <div class="overflow-y-auto">
                <p class="text-gray-700 mb-2 font-semibold">Subject: Checking In on Our Proposal</p>
                <p class="text-gray-700 mb-2">Hi [Name],</p>
                <p class="text-gray-700 mb-2">
                    Last we chatted, you requested that I get in touch in [time frame]. It may be a bit early, but I figured it’d be worth checking in.
                </p>
                <p class="text-gray-700 mb-2">
                    Have you given any additional thought to my proposal? I’d be happy to do a quick review of it on the phone and answer any pending questions. What does your calendar look like to talk?
                </p>
                <p class="text-gray-700">Best,</p>
                <p class="text-gray-700">[Name]</p>
            </div>
        </div>

        <!-- Template 2 Card -->
        <div class="bg-white bg-opacity-30 backdrop-blur-lg border border-white border-opacity-50 p-6 rounded-lg shadow-lg w-full md:w-[30%] h-[41vh] flex flex-col animate-fade-in hover:scale-105 hover:shadow-xl transition-all duration-300">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex-1 flex items-center justify-center">Template #2: Testimonial Request</h2>
            <div class="overflow-y-auto">
                <p class="text-gray-700 mb-2 font-semibold">Subject: Request for a Testimonial Quote</p>
                <p class="text-gray-700 mb-2">Hi [Name],</p>
                <p class="text-gray-700 mb-2">
                    I don’t believe we crossed paths while you were working with your company, but I wanted to introduce myself. My name is [your name] and I run [company name]’s testimonial initiatives; your name was passed over to me from [coworker’s name] – she said you [reason they would give a testimonial].
                </p>
                <p class="text-gray-700 mb-2">
                    We’re looking to feature a few of our best customers who [reason they would give a testimonial] on our Testimonials page, and [coworker name] mentioned you might be willing to provide a quote.
                </p>
                <p class="text-gray-700 mb-2">
                    Would you be open to having a featured quote on our Testimonials page? You can check other quotes out here [link]—nothing too lengthy, but something to show why you chose [your company] or your best experience with us would be great.
                </p>
                <p class="text-gray-700 mb-2">
                    Are there any questions that come to mind, or anything I can help with in advance?
                </p>
                <p class="text-gray-700">Best,</p>
                <p class="text-gray-700">[Name]</p>
            </div>
        </div>

        <!-- Template 3 Card -->
        <div class="bg-white bg-opacity-30 backdrop-blur-lg border border-white border-opacity-50 p-6 rounded-lg shadow-lg w-full md:w-[30%] h-[41vh] flex flex-col animate-fade-in hover:scale-105 hover:shadow-xl transition-all duration-300">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex-1 flex items-center justify-center">Template #3: In-Person Meeting Follow-Up</h2>
            <div class="overflow-y-auto">
                <p class="text-gray-700 mb-2 font-semibold">Subject: Follow-Up from [Event Name]</p>
                <p class="text-gray-700 mb-2">Hi [Name],</p>
                <p class="text-gray-700 mb-2">
                    I hope you enjoyed [event]. I wanted to follow up to improve [challenge being faced].
                </p>
                <p class="text-gray-700 mb-2">
                    I’m sure [colleague] would agree with you, so I thought I’d send you [content piece] for you to review – you’d be more than happy to have additional information about [topic of content piece].
                </p>
                <p class="text-gray-700 mb-2">
                    Let me know if you have any questions or would like to have a more in-depth conversation. I’m here whenever you need me.
                </p>
                <p class="text-gray-700">Best,</p>
                <p class="text-gray-700">[Name]</p>
            </div>
        </div>
    </div>

    <!-- Form Modal -->
    <div id="templateForm" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md transform transition-all duration-500 scale-0 opacity-0" id="formContent">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Create New Template</h2>
            <div class="mb-4">
                <label class="block text-gray-700 mb-2" for="templateName">Template Name</label>
                <input id="templateName" type="text" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200" placeholder="e.g., Follow-Up #4">
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 mb-2" for="subject">Subject</label>
                <input id="subject" type="text" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200" placeholder="e.g., Quick Follow-Up">
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 mb-2" for="content">Content</label>
                <textarea id="content" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200" rows="5" placeholder="Enter your email content here..."></textarea>
            </div>
            <div class="flex justify-end gap-4">
                <button id="cancelBtn" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-all duration-200">Cancel</button>
                <button id="saveBtn" class="bg-gradient-to-r from-purple-600 to-purple-400 text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-all duration-300">Save</button>
            </div>
        </div>
    </div>

    <script>
        const dashboardBtn = document.getElementById('dashboardBtn');
        const templatesBtn = document.getElementById('templatesBtn');
        const templateForm = document.getElementById('templateForm');
        const formContent = document.getElementById('formContent');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveBtn = document.getElementById('saveBtn');
        const templateContainer = document.getElementById('templateContainer');
        let templateCount = 3;

        templatesBtn.addEventListener('click', () => {
            templateForm.classList.remove('hidden');
            setTimeout(() => {
                formContent.classList.remove('scale-0', 'opacity-0');
                formContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        });

        dashboardBtn.addEventListener('click', () => {
            window.location.href = '/audience_dashboard';
        });

        cancelBtn.addEventListener('click', () => {
            formContent.classList.remove('scale-100', 'opacity-100');
            formContent.classList.add('scale-0', 'opacity-0');
            setTimeout(() => {
                templateForm.classList.add('hidden');
            }, 500);
        });

        saveBtn.addEventListener('click', () => {
            const templateName = document.getElementById('templateName').value;
            const subject = document.getElementById('subject').value;
            const content = document.getElementById('content').value;

            if (templateName && subject && content) {
                templateCount++;
                const newTemplate = document.createElement('div');
                newTemplate.className = 'bg-white bg-opacity-30 backdrop-blur-lg border border-white border-opacity-50 p-6 rounded-lg shadow-lg w-full md:w-[30%] h-[41vh] flex flex-col animate-fly-in hover:scale-105 hover:shadow-xl transition-all duration-300';
                newTemplate.innerHTML = `
                    <h2 class="text-xl font-bold text-gray-800 mb-4 flex-1 flex items-center justify-center">Template #${templateCount}: ${templateName}</h2>
                    <div class="overflow-y-auto">
                        <p class="text-gray-700 mb-2 font-semibold">Subject: ${subject}</p>
                        <p class="text-gray-700 mb-2">${content}</p>
                    </div>
                `;
                templateContainer.appendChild(newTemplate);
            }

            cancelBtn.click();
        });
    </script>
</body>
</html>